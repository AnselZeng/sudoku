{"version":3,"sources":["lib/sudoku.js","components/SudokuField.js","components/Timer.js","components/Result.js","components/SudokuBoard.js","App.js","index.js"],"names":["generateSudoku","fromUrl","match","document","location","search","JSON","parse","atob","extractUrlData","console","log","raw","generator","makepuzzle","rawSolution","solvepuzzle","formatted","map","e","result","rows","solution","startTime","Date","solvedTime","challengerStartTime","challengerSolvedTime","i","row","cols","index","j","value","col","readonly","focused","push","SudokuField","handleChange","parseInt","target","props","onChange","field","this","className","readOnly","Component","Timer","state","elapsed","interval","setInterval","setState","Math","floor","getTime","start","Result","sudoku","solveTime","SudokuBoard","window","App","produce","candidate","flat","length","checkSolution","solveSudoku","forEach","newSudoku","class","onClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.edecb279.chunk.js","sourcesContent":["import generator from \"sudoku\";\n\nexport function generateSudoku() {\n  const fromUrl = extractUrlData();\n  console.log(\"Got from url: \", fromUrl);\n  const raw = fromUrl ? fromUrl.raw : generator.makepuzzle();\n  const rawSolution = generator.solvepuzzle(raw);\n\n  const formatted = raw.map(e => (e === null ? null : e + 1));\n  const formattedSolution = rawSolution.map(e => e + 1);\n\n  const result = {\n    raw,\n    rows: [],\n    solution: formattedSolution,\n    startTime: new Date(),\n    solvedTime: null,\n    challengerStartTime: fromUrl && fromUrl.startTime,\n    challengerSolvedTime: fromUrl && fromUrl.solvedTime\n  };\n\n  for (let i = 0; i < 9; i++) {\n    const row = { cols: [], index: i };\n    for (let j = 0; j < 9; j++) {\n      const value = formatted[i * 9 + j];\n      const col = {\n        row: i,\n        col: j,\n        value: value,\n        readonly: value !== null,\n        focused: false\n      };\n      row.cols.push(col);\n    }\n    result.rows.push(row);\n  }\n\n  return result;\n}\n\nexport function checkSolution(sudoku) {\n  const candidate = sudoku.rows\n    .map(row => row.cols.map(col => col.value))\n    .flat();\n\n  for (let i = 0; i < candidate.length; i++) {\n    if (candidate[i] === null || candidate[i] !== sudoku.solution[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction extractUrlData() {\n  const match = document.location.search.match(/sudoku=([^&]+)/);\n\n  if (match) {\n    return JSON.parse(atob(match[1]));\n  }\n  return null;\n}","import React, { Component } from \"react\";\n\nexport default class SudokuField extends Component {\n  handleChange = e => {\n    const value = parseInt(e.target.value, 10);\n\n    this.props.onChange({ ...this.props.field, value: value });\n  };\n\n  render() {\n    const { field } = this.props;\n    return (\n      <input\n        className=\"field\"\n        value={field.value || \"\"}\n        readOnly={field.readonly}\n        onChange={this.handleChange}\n      />\n    );\n  }\n}","import React, { Component } from \"react\";\n\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      elapsed: 0\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.setState({\n        elapsed: Math.floor(\n          (new Date().getTime() - this.props.start.getTime()) / 1000\n        )\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    delete this.interval;\n  }\n\n  render() {\n    const { elapsed } = this.state;\n    return <h2>Time: {elapsed}</h2>;\n  }\n}","import React, { Component } from \"react\";\n\nexport default class Result extends Component {\n  render() {\n    const { sudoku } = this.props;\n    const elapsed = Math.floor(\n      (sudoku.solveTime.getTime() - sudoku.startTime.getTime()) / 1000\n    );\n    const opponent = sudoku.challengerSolvedTime\n      ? Math.floor(\n          (sudoku.challengerSolvedTime.getTime() -\n            sudoku.challengerStartTime.getTime()) /\n            1000\n        )\n      : null;\n\n    return (\n      <div>\n        <h2>You solved the sudoku in {elapsed} seconds</h2>\n      </div>\n    );\n  }\n}","\nimport React, { Component } from \"react\";\nimport SudokuField from \"./SudokuField\";\nimport Timer from \"./Timer\";\nimport Result from \"./Result\";\n\nexport default class SudokuBoard extends Component {\n  render() {\n    const { sudoku, onChange } = this.props;\n\n    return (\n      <div>\n        {!sudoku.solveTime && <Timer start={sudoku.startTime} />}\n        {sudoku.solveTime && <Result sudoku={sudoku} />}\n        {sudoku.rows.map(row => (\n          <div className=\"row\" key={row.index}>\n            {row.cols.map(field => (\n              <SudokuField field={field} key={field.col} onChange={onChange} />\n            ))}\n          </div>\n        ))}\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { generateSudoku, checkSolution } from \"./lib/sudoku\";\nimport produce from \"immer\";\nimport SudokuBoard from \"./components/SudokuBoard\";\nimport \"./App.css\";\nimport generator from \"sudoku\";\n\n\nwindow.generator = generator;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = produce({}, () => ({\n      sudoku: generateSudoku()\n    }));\n  }\n\n  handleChange = e => {\n    this.setState(\n      produce(state => {\n        state.sudoku.rows[e.row].cols[e.col].value = e.value;\n        if (!state.sudoku.solvedTime) {\n          const solved = checkSolution(state.sudoku);\n          if (solved) {\n            state.sudoku.solveTime = new Date();\n          }\n        }\n      })\n    );\n  };\n\n  solveSudoku = e => {\n    this.setState(\n      produce(state => {\n        state.sudoku.rows.forEach(row =>\n          row.cols.forEach(col => {\n            col.value = state.sudoku.solution[col.row * 9 + col.col];\n          })\n        );\n      })\n    );\n  };\n\n  newSudoku = e => {\n    this.setState(produce({}, () => ({\n      sudoku: generateSudoku()\n    })));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>AT Sudoku</h1>\n        </header>\n        <SudokuBoard sudoku={this.state.sudoku} onChange={this.handleChange} />\n        <button class=\"button1\" onClick={this.solveSudoku}>Solve Puzzle</button>\n        <button class=\"button1\" onClick={this.newSudoku}>New Puzzle</button>\n        <footer>Made by Ansel Zeng and Endreas Yohannes.<br/>Copyright Â© 2021. All rights reserved.</footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}